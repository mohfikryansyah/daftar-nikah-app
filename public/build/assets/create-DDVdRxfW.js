import{m as D,j as a,L as B,V as F}from"./app-CAKI_gIR.js";import{R as o}from"./tanda-required-6fd_Lvrs.js";import{B as x}from"./button-D1SFdmt1.js";import{C as p,a as u}from"./calendar-Dp938ENQ.js";import{C as T,d as V,b as A,c as E}from"./card-CrPCQQR9.js";import{I as m}from"./input-CAH9RG18.js";import{L as i}from"./label-D-T51IVM.js";import{P as j,a as _,b as f}from"./popover-CQkEDIaF.js";import{S as v,a as b,b as N,c as C,d as S,e as d}from"./select-BMh_WQK_.js";import{A as R}from"./app-layout-CPBP-N1A.js";import{c as w}from"./utils-CfaLvSjR.js";import{I as g}from"./input-error-BA111psh.js";import{u as G}from"./helpers-BgR7GQXC.js";import{f as c,i as P}from"./id-VFStllgx.js";import"./index-DuztS2su.js";import"./createLucideIcon-BOytSpuY.js";import"./chevron-right-E_c5hde9.js";import"./index-Ig-U3aWc.js";import"./index-CZHGkSyI.js";import"./index-B60lwTa3.js";import"./index-BwOnMC2L.js";import"./index-GxVM0YMC.js";import"./index-Q_3JEKUI.js";import"./use-initials-B0kaz4cm.js";import"./index-CY3qm-Qs.js";import"./index-BHplJETi.js";const J=[{title:"Dashboard",href:"/dashboard"}];function pa(){const{data:n,setData:r,post:$,errors:I,transform:q,reset:K}=D({yang_meninggal:{nama_lengkap:"",bin_binti:"",nik:"",tempat_lahir:"",tanggal_lahir:void 0,kewarganegaraan:"",agama:"",pekerjaan:"",alamat:"",tanggal_meninggal:void 0,tempat_meninggal:"",status_hubungan_dengan_pemohon:""},pemohon:{nama_lengkap:"",bin_binti:"",nik:"",tempat_lahir:"",tanggal_lahir:void 0,kewarganegaraan:"",agama:"",pekerjaan:"",alamat:""}});q(l=>({...l,yang_meninggal:{...l.yang_meninggal,tanggal_lahir:l.yang_meninggal.tanggal_lahir?c(new Date(l.yang_meninggal.tanggal_lahir),"yyyy-MM-dd"):void 0,tanggal_meninggal:l.yang_meninggal.tanggal_meninggal?c(new Date(l.yang_meninggal.tanggal_meninggal),"yyyy-MM-dd"):void 0},pemohon:{...l.pemohon,tanggal_lahir:l.pemohon.tanggal_lahir?c(new Date(l.pemohon.tanggal_lahir),"yyyy-MM-dd"):void 0}}));const{getNestedError:t}=G(),L=l=>a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex flex-col space-y-2",children:[a.jsxs(i,{children:["Tanggal Meniggal",a.jsx(o,{})]}),a.jsxs(j,{modal:!0,children:[a.jsx(_,{asChild:!0,children:a.jsxs(x,{variant:"outline",className:w("w-full bg-transparent pl-3 text-left font-normal",!n[l].tanggal_meninggal&&"text-muted-foreground"),children:[n[l].tanggal_meninggal?c(n[l].tanggal_meninggal,"PPP",{locale:P}):a.jsx("span",{children:"Pilih tanggal"}),a.jsx(p,{className:"ml-auto h-4 w-4 opacity-50"})]})}),a.jsx(f,{className:"w-auto p-0",align:"start",children:a.jsx(u,{mode:"single",required:!0,selected:n[l].tanggal_meninggal,onSelect:e=>{r(l,{...n[l],tanggal_meninggal:e})},initialFocus:!0})})]}),a.jsx(g,{message:t(`${l}`,"tanggal_meninggal")})]}),a.jsxs("div",{className:"flex flex-col space-y-2",children:[a.jsxs(i,{children:["Tempat Meninggal",a.jsx(o,{})]}),a.jsx(m,{type:"text",placeholder:"Contoh: Rumah",value:n[l].tempat_meninggal,onChange:e=>r(l,{...n[l],tempat_meninggal:e.target.value}),required:!0}),a.jsx(g,{message:t(`${l}`,"tempat_meninggal")})]})]}),h=(l,e)=>a.jsx(T,{className:"mb-4",children:a.jsx(V,{className:"space-y-5",children:a.jsxs("div",{className:"grid gap-4 lg:grid-cols-4",children:[a.jsxs("div",{className:"col-span-1 space-y-1",children:[a.jsx(A,{children:l}),a.jsx(E,{children:"Lengkapi formulir dibawah ini."})]}),a.jsxs("div",{className:"col-span-3 grid gap-4 lg:grid-cols-4",children:[a.jsxs("div",{className:"flex flex-col space-y-2",children:[a.jsxs(i,{children:["Nama lengkap",a.jsx(o,{})]}),a.jsx(m,{type:"text",value:n[e].nama_lengkap,onChange:s=>r(e,{...n[e],nama_lengkap:s.target.value}),required:!0}),a.jsx(g,{message:t(`${e}`,"nama_lengkap")})]}),a.jsxs("div",{className:"flex flex-col space-y-2",children:[a.jsxs(i,{children:["Bin/Binti",a.jsx(o,{})]}),a.jsx(m,{type:"text",value:n[e].bin_binti,onChange:s=>r(e,{...n[e],bin_binti:s.target.value}),required:!0}),a.jsx(g,{message:t(`${e}`,"bin_binti")})]}),a.jsxs("div",{className:"flex flex-col space-y-2",children:[a.jsxs(i,{children:["NIK",a.jsx(o,{})]}),a.jsx(m,{type:"number",minLength:16,maxLength:16,placeholder:"7571050102050006",value:n[e].nik,onChange:s=>r(e,{...n[e],nik:s.target.value}),required:!0}),a.jsx(g,{message:t(`${e}`,"nik")})]}),a.jsxs("div",{className:"flex flex-col space-y-2",children:[a.jsxs(i,{children:["Tempat Lahir",a.jsx(o,{})]}),a.jsx(m,{type:"text",placeholder:"Gorontalo",value:n[e].tempat_lahir,onChange:s=>r(e,{...n[e],tempat_lahir:s.target.value}),required:!0}),a.jsx(g,{message:t(`${e}`,"tempat_lahir")})]}),a.jsxs("div",{className:"flex flex-col space-y-2",children:[a.jsxs(i,{children:["Tanggal Lahir",a.jsx(o,{})]}),a.jsxs(j,{modal:!0,children:[a.jsx(_,{asChild:!0,children:a.jsxs(x,{variant:"outline",className:w("w-full bg-transparent pl-3 text-left font-normal",!n[e].tanggal_lahir&&"text-muted-foreground"),children:[n[e].tanggal_lahir?c(n[e].tanggal_lahir,"PPP",{locale:P}):a.jsx("span",{children:"Pilih tanggal"}),a.jsx(p,{className:"ml-auto h-4 w-4 opacity-50"})]})}),a.jsx(f,{className:"w-auto p-0",align:"start",children:a.jsx(u,{mode:"single",required:!0,selected:n[e].tanggal_lahir,onSelect:s=>{r(e,{...n[e],tanggal_lahir:s})},initialFocus:!0})})]}),a.jsx(g,{message:t(`${e}`,"tanggal_lahir")})]}),a.jsxs("div",{className:"flex flex-col space-y-2",children:[a.jsxs(i,{children:["Pekerjaan",a.jsx(o,{})]}),a.jsx(m,{type:"text",placeholder:"Petani",value:n[e].pekerjaan,onChange:s=>r(e,{...n[e],pekerjaan:s.target.value}),required:!0}),a.jsx(g,{message:t(`${e}`,"pekerjaan")})]}),a.jsxs("div",{className:"flex flex-col space-y-2",children:[a.jsx(i,{children:"Agama"}),a.jsxs(v,{defaultValue:n[e].agama,onValueChange:s=>r(e,{...n[e],agama:s}),children:[a.jsx(b,{className:"w-full",children:a.jsx(N,{placeholder:"Pilih Agama"})}),a.jsx(C,{children:a.jsxs(S,{children:[a.jsx(d,{value:"Islam",children:"Islam"}),a.jsx(d,{value:"Kristen",children:"Kristen"})]})})]}),a.jsx(g,{message:t(`${e}`,"agama")})]}),a.jsxs("div",{className:"flex flex-col space-y-2",children:[a.jsxs(i,{children:["Kewarganegaraan",a.jsx(o,{})]}),a.jsx(m,{type:"text",placeholder:"Indonesia",value:n[e].kewarganegaraan,onChange:s=>r(e,{...n[e],kewarganegaraan:s.target.value}),required:!0}),a.jsx(g,{message:t(`${e}`,"kewarganegaraan")})]}),a.jsxs("div",{className:"flex flex-col space-y-2",children:[a.jsx(i,{children:"Status Hubungan"}),a.jsxs(v,{defaultValue:n[e].status_hubungan_dengan_pemohon,onValueChange:s=>r(e,{...n[e],status_hubungan_dengan_pemohon:s}),children:[a.jsx(b,{className:"w-full",children:a.jsx(N,{placeholder:"Pilih Jenis Kelamin"})}),a.jsx(C,{children:a.jsxs(S,{children:[a.jsx(d,{value:"Istri",children:"Istri"}),a.jsx(d,{value:"Suami",children:"Suami"})]})})]}),a.jsx(g,{message:t(`${e}`,"status_hubungan_dengan_pemohon")})]}),a.jsxs("div",{className:"flex flex-col space-y-2",children:[a.jsxs(i,{children:["Alamat",a.jsx(o,{})]}),a.jsx(m,{type:"text",placeholder:"Jl. Usman Isa, Kel. Lekobalo Kec. Kota Barat ",value:n[e].alamat,onChange:s=>r(e,{...n[e],alamat:s.target.value}),required:!0}),a.jsx(g,{message:t(`${e}`,"alamat")})]}),e==="yang_meninggal"&&a.jsx(a.Fragment,{children:L("yang_meninggal")})]})]})})}),M=l=>{l.preventDefault(),$(route("catin.permohonan-surat-keterangan-kematian.store"),{onSuccess:()=>{F.success("Berhasil!"),K()},onError:()=>{console.log(I)}})};return a.jsxs(R,{breadcrumbs:J,children:[a.jsx(B,{title:"Buat Permohonan Surat Kematian"}),a.jsx("div",{className:"flex h-full flex-1 flex-col gap-4 rounded-xl p-4",children:a.jsxs("form",{onSubmit:M,children:[h("Yang Meninggal","yang_meninggal"),h("Pemohon","pemohon"),a.jsx(x,{type:"submit",children:"Submit"})]})})]})}export{pa as default};
