import{m as _,j as a,V as u}from"./app-CAKI_gIR.js";import{R as n}from"./tanda-required-6fd_Lvrs.js";import{I as t}from"./input-error-BA111psh.js";import{B as d}from"./button-D1SFdmt1.js";import{C as v,a as C}from"./calendar-Dp938ENQ.js";import{C as D,a as P,b as y,d as N}from"./card-CrPCQQR9.js";import{L as l}from"./label-D-T51IVM.js";import{P as S,a as A,b as K}from"./popover-CQkEDIaF.js";import{S as w,a as E,b as U,c as B,d as M,e as o}from"./select-BMh_WQK_.js";import{T as c}from"./textarea-DhlVXWi6.js";import{c as T}from"./utils-CfaLvSjR.js";import{f as m,i as p}from"./id-VFStllgx.js";import"./index-DuztS2su.js";import"./createLucideIcon-BOytSpuY.js";import"./chevron-right-E_c5hde9.js";import"./index-Ig-U3aWc.js";import"./index-CZHGkSyI.js";import"./index-B60lwTa3.js";import"./index-BwOnMC2L.js";import"./index-GxVM0YMC.js";import"./index-Q_3JEKUI.js";function ta({permohonanNikah:g,templateBerkas:V}){const{data:s,setData:i,put:h,errors:r,reset:x,processing:b,isDirty:j,transform:f}=_({status_permohonan:g.latest_status.status_permohonan,keterangan:"",lokasi_bimbingan:"",tanggal_bimbingan:""});f(e=>({...e,tanggal_bimbingan:e.tanggal_bimbingan?m(new Date(e.tanggal_bimbingan),"EEEE, dd MMMM yyyy",{locale:p}):""}));const k=e=>{e.preventDefault(),h(route("status-permohonan-nikah.update-kua",{statusPermohonanNikah:g.latest_status.id}),{onSuccess:()=>{u.success("Berhasil mempebarui status"),x()},onError:q=>{u.error("Gagal mempebarui status!")}})};return a.jsxs(D,{className:"w-full xl:max-h-fit",children:[a.jsx(P,{children:a.jsx(y,{children:"Aksi"})}),a.jsx(N,{children:a.jsxs("form",{onSubmit:k,className:"space-y-4",children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsxs(l,{children:["Status",a.jsx(n,{})]}),a.jsxs(w,{defaultValue:s.status_permohonan,onValueChange:e=>i("status_permohonan",e),required:!0,children:[a.jsx(E,{className:"w-full",children:a.jsx(U,{placeholder:"Pilih Jenis Kelamin"})}),a.jsx(B,{children:a.jsxs(M,{children:[a.jsx(o,{value:"Diverifikasi Puskesmas",children:"Diverifikasi Puskesmas"}),a.jsx(o,{value:"Diverifikasi KUA",children:"Diverifikasi KUA"}),a.jsx(o,{value:"Ditolak KUA",children:"Ditolak KUA"})]})})]}),a.jsx(t,{message:r.status_permohonan})]}),s.status_permohonan==="Diverifikasi KUA"&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsxs(l,{children:["Tanggal Bimbingan",a.jsx(n,{})]}),a.jsxs(S,{modal:!0,children:[a.jsx(A,{asChild:!0,children:a.jsxs(d,{variant:"outline",className:T("w-full bg-transparent pl-3 text-left font-normal",!s.tanggal_bimbingan&&"text-muted-foreground"),children:[s.tanggal_bimbingan?m(s.tanggal_bimbingan,"PPP",{locale:p}):a.jsx("span",{children:"Pilih tanggal"}),a.jsx(v,{className:"ml-auto h-4 w-4 opacity-50"})]})}),a.jsx(K,{className:"w-auto p-0",align:"start",children:a.jsx(C,{mode:"single",required:!0,selected:s.tanggal_bimbingan?new Date(s.tanggal_bimbingan):void 0,onSelect:e=>{e&&i("tanggal_bimbingan",m(e,"yyyy-MM-dd"))},initialFocus:!0})})]}),a.jsx(t,{message:r.tanggal_bimbingan})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsxs(l,{children:["Lokasi Bimbingan",a.jsx(n,{})]}),a.jsx(c,{value:s.lokasi_bimbingan,onChange:e=>i("lokasi_bimbingan",e.target.value),required:!0}),a.jsx(t,{message:r.tanggal_bimbingan})]})]}),s.status_permohonan==="Ditolak KUA"&&a.jsxs("div",{className:"grid gap-2",children:[a.jsxs(l,{children:["Keterangan",a.jsx(n,{})]}),a.jsx(c,{value:s.keterangan,onChange:e=>{i("keterangan",e.target.value)}}),a.jsx(t,{message:r.keterangan})]}),a.jsx(d,{disabled:b||!j,type:"submit",variant:"default",className:"w-full",children:"Simpan"})]})})]})}export{ta as default};
